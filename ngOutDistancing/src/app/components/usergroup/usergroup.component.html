<div *ngIf="!selected">
  <button class="btn btn-info" mat-button (click)="openLg(createGroup)">Create Group</button>


<div class="row card-group">
  <mat-card class="col-3" *ngFor="let group of groups"
    style="text-align:center">
    <mat-card-header>
      <mat-card-title>{{group.name}}</mat-card-title>
    </mat-card-header>
    <img mat-card-image src="{{group.imageUrl}}">
    <mat-card-content>
      <p>
        <strong>{{ group.shortDescription }}</strong>
      </p>
    </mat-card-content>
    <mat-card-actions>
      <button class="btn btn-info" mat-button (click)="displayGroup(group)">Group Detail</button>
      <button class="btn btn-info" mat-button (click)="joinGroup(group)">Join group</button>
    </mat-card-actions>
  </mat-card>
</div>
</div>

<div *ngIf="selected">
  Id: {{selected.id}} <br>
  Group name: {{selected.name}} <br>
  Enabled: {{selected.enabled}} <br>
  Creator: {{selected.creator.username}} <br>
  Date Created: {{selected.createDate | date:'longDate' }} <br>
  Short Description: {{selected.shortDescription}} <br>
  Description: {{selected.description}} <br>
  Image:  <img src="{{selected.imageUrl}}" style="width:200px;height:200px;"> <br>
  <input type="submit" (click)="setEditGroup()" value="Edit" />
  <button (click)="displayTable()">Back</button>
<br>
<br>


<form *ngIf="editGroup">
  <label for="task">Name:</label>
  <input type="text" name="task" [(ngModel)]="editGroup.name" placeholder="Name" /><br />
  <label for="completed">Enabled:</label>
  <input type="checkbox" name="completed" [(ngModel)]="editGroup.enabled"/><br>
  <label for="description">Description:</label>
  <input type="text" size="100" name="description" [(ngModel)]="editGroup.description" /><br />
  <label for="shortdescription">Short description:</label>
  <input type="text" size="100" name="shortDescription" [(ngModel)]="editGroup.shortDescription" /><br />
  <input type="submit" (click)="editGroup = null" value="Cancel" />
  <input type="submit" (click)="updateGroup(editGroup)" value="Save" />
</form>

<h1 style="text-align:center">User Members</h1>
<div class="row card-group">
  <mat-card class="col-3" style="text-align:center">
    <mat-card-header>
      <mat-card-title>Creator {{selected.creator.username}}</mat-card-title>
    </mat-card-header>
    <img mat-card-image class="rounded-circle" src="{{selected.creator.imageUrl}}">
    <mat-card-content>
      <!-- <p>
      <p> Description: {{selected.creator.description}}
      </p> -->
    </mat-card-content>
    <mat-card-actions>
    </mat-card-actions>
  </mat-card>
</div>
<div class="row card-group">
  <mat-card class="col-3" *ngFor="let user of selected.users"
    style="text-align:center">
    <mat-card-header>
      <mat-card-title>{{user.username}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <img mat-card-image class="rounded-circle" src="{{user.imageUrl}}">
    </mat-card-content>
  </mat-card>
</div>
</div>


<ng-template #createGroup let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Create Group</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
      <div class="card-body">
          <form class="form" role="form" autocomplete="off" id="formLogin" novalidate="" method="POST">
            <div class="form-group">
                <label for="uname1">Name</label>
                <input type="text" [(ngModel)]="newGroup.name" class="form-control form-control-lg rounded-0" name="name" required="">
                <div class="invalid-feedback">Oops, you missed this one.</div>
            </div>
            <div class="form-group">
                <label>Short Description</label>
                <input type="text" [(ngModel)]="newGroup.shortDescription" name="shortDescription" class="form-control form-control-lg rounded-0" required="" >
                <div class="invalid-feedback">EOops, you missed this one.</div>
            </div>
            <div class="form-group">
              <label for="uname1">Description</label>
              <input type="text" [(ngModel)]="newGroup.description" class="form-control form-control-lg rounded-0" name="description" required="">
              <div class="invalid-feedback">Oops, you missed this one.</div>
            </div>
              <div class="form-group">
                <label for="uname1">Image URL</label>
                <input type="text" [(ngModel)]="newGroup.imageUrl" class="form-control form-control-lg rounded-0" name="imageUrl" required="">
                <div class="invalid-feedback">Oops, you missed this one.</div>
            </div>
            <button type="submit"  (click)="addNewGroup(newGroup); modal.close()" class="btn btn-success btn-lg float-right" id="btnLogin">Submit</button>
          </form>
      </div>
      <!--/card-block-->
  </div>
  <!-- /form card login -->
    <div class="modal-footer">
    <!-- <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button> -->
  </div>
</ng-template>
